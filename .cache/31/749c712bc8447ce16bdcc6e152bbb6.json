{"id":"index.html","dependencies":[{"name":"./style.css","dynamic":true,"resolved":"D:\\Guo\\canvas-demo1\\style.css","parent":"D:\\Guo\\canvas-demo1\\index.html"}],"generated":{"html":"<!DOCTYPE html>\r\n<html lang=\"zh-CN\">\r\n\r\n<head>\r\n    <meta charset=\" UTF-8\">\r\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n    <meta http-equiv=\"X-UA-Compatible\" content=\"ie=edge\">\r\n    <title>Canvas画板</title>\r\n    <link rel=\"stylesheet\" href=\"/da232d78aa810382f2dcdceae308ff8e.css\">\r\n</head>\r\n\r\n<body>\r\n    <canvas id=\"canvas\" width=\"100vw\" height=\"100vh\"></canvas>\r\n    <script>//  JS 操作Dom 划线 性能太差\n// canvas.onmousemove = function (e) {\n//     console.log(e)\n//     let div = document.createElement(div);\n//     div.style.position = 'absolute'\n//     div.style.left = e.clientX + 'px';\n//     div.style.top = e.clientY + 'px';\n//     div.style.width = '4px';\n//     div.style.height = '4px';\n//     div.style.backgroundColor = 'black'\n//     div.style.borderRadius = '50%'\n//     canvas.append(div);\n// }\nvar canvas = document.getElementById('canvas');\nvar ctx = canvas.getContext('2d');\ncanvas.width = document.documentElement.clientWidth;\ncanvas.height = document.documentElement.clientHeight;\nctx.fillStyle = \"black\";\nvar painting = false;\nctx.lineWidth = '6';\nctx.lineCap = 'round';\nctx.lineJoin = 'round';\nvar last;\nvar now; //手机适配\n\nvar isTouchDevice = \"ontouchstart\" in document.documentElement;\nconsole.log(isTouchDevice);\n\nif (isTouchDevice) {\n  canvas.ontouchstart = function (e) {\n    last = [e.touches[0].clientX, e.touches[0].clientY];\n  };\n\n  canvas.ontouchmove = function (e) {\n    console.log(e);\n    now = [e.touches[0].clientX, e.touches[0].clientY];\n    drawLine(last[0], last[1], now[0], now[1]);\n    last = now;\n  };\n} //划线\n\n\ncanvas.onmousedown = function (e) {\n  painting = true;\n  last = [e.clientX, e.clientY];\n};\n\ncanvas.onmousemove = function (e) {\n  if (painting) {\n    now = [e.clientX, e.clientY];\n    drawLine(last[0], last[1], now[0], now[1]);\n    last = now;\n  }\n};\n\ncanvas.onmouseup = function () {\n  painting = false;\n};\n\nfunction drawLine(x1, y1, x2, y2) {\n  ctx.beginPath();\n  ctx.moveTo(x1, y1);\n  ctx.lineTo(x2, y2);\n  ctx.stroke();\n} //画点\n\n/*\r\ncanvas.onmousedown = function () {\r\n        painting = true\r\n    }\r\n    canvas.onmousemove = function (e) {\r\n        if (painting == true) {\r\n            ctx.beginPath();\r\n            ctx.arc(e.clientX, e.clientY, 4, 0, 2 * Math.PI);\r\n            ctx.fill()\r\n        }\r\n        else { }\r\n    }\r\n    canvas.onmouseup = function () {\r\n          painting = false;\r\n    }\r\n*/</script>\r\n</body>\r\n\r\n</html>"},"sourceMaps":null,"error":null,"hash":"fc822221ba5222bc8e9183ff8d93a6ee","cacheData":{"env":{}}}